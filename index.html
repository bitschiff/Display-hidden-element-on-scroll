<!doctype html>
<meta charset="utf-8"/>
<html lang="en">
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

	<header>
		<!-- a sample navbar including a searchbox that starts hidden -->
		<nav id='navbar' class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" >
			<a class="navbar-brand" href="#">Navbar</a>
			
			<!-- the hidden searchbox (for my code to work this must have the id "searchInNavBar" but that can be changed) -->
			<form id="searchInNavBar" class="form-inline mt-2 mt-md-0" style="display: none;">
				<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			</form>
		</nav>
	</header>


	<main role="main" class="container">
		<div class="container">
			<br><br><br><br><!-- empty space so search box is below the navbar -->

			<!-- the search box that is part of the body and moves when the user scrolls the page (for my code to work this must have the id "searchInBody" but that can be changed)-->
			<form id="searchInBody" class="form-inline mt-2 mt-md-0">
				<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			</form>

			<!-- empty space to let you scroll the page -->
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
		</div>
	</main>

	
	<!-- jquery and bootstrap stuff -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


	<!-- The code use to fade the search box -->
	<script type="text/javascript">

		$.fn.isOnScreen = function(){
			var win = $(window);
			var viewport = {
				top : win.scrollTop(),
				left : win.scrollLeft()
			};
			var myElement = this.offset();

			return (!(viewport.bottom < myElement.bottom || (viewport.top + $('#navbar').height()) > myElement.top )); //is true if myElement is mostly hidden behind a navbar with id "navbar"

			//return (!(viewport.bottom < myElement.bottom || (viewport.top + $('#navbar').height()) > myElement.top )); //same as other return statement but for when there is no navbar and you want the element to fade in when the search box goes beond the top of the screen
		};

		//the code to fade in and out the search box. Change the number for faster or slower fade speed.
		$(document).scroll(function() {
			if ($('#searchInBody').isOnScreen()) {
				$('#searchInNavBar').fadeOut(250);
			} else {
				$('#searchInNavBar').fadeIn(250);
			}
		});
	</script>
</body>
</html>
